---
import "../../styles/blog-home.css";

const allPosts = await Astro.glob("../../pages/posts/*.md");
const sortedPosts = allPosts.sort(
  (a, b) =>
    Number(new Date(b.frontmatter.pubDate)) -
    Number(new Date(a.frontmatter.pubDate))
);
const recentPosts = sortedPosts.slice(0, 10);
---

<body class="relative min-h-screen">
  <div class="recent-box">
    <h3 class="text-lg mb-4">$ ls -a blog_entries/*.md</h3>
    <ul class="space-y-4 sm:space-y-2">
      {
        recentPosts.map((post) => (
          <li>
            <span class="pr-2">-rw-r--r-- 1 serlic serlic{"  "}</span>
            <span class="text-gray-100">
              {new Date(post.frontmatter.pubDate).toLocaleDateString("en-US", {
                month: "short",
                day: "numeric",
              })}
            </span>
            <a href={post.url} class="underline pl-6">
              {post.frontmatter.title}.md
            </a>
          </li>
        ))
      }
    </ul>
  </div>
</body>
